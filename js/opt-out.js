(function(window){function f(a,b){var c=new window.XMLHttpRequest;c.withCredentials=!0;c.open("GET",a);c.onload=b;c.onerror=b;c.send()}function g(a,b){return function(c){for(var e=[],d=0;d<arguments.length;++d)e[d-0]=arguments[d];e.unshift(a);return b.apply(null,e)}}function k(){};var l=window.Adform=window.Adform||{},m={host:"track.adform.net",protocol:"https://",path:"/opt/adform/"},n={},p=window.console||{error:k};l.Opt=l.Opt||{InitClientOpt:q,GetStatus:r,OptOut:t,OptIn:v,getStatus:q,optIn:w,optOut:x,disableRedirect:k};function q(a,b){y(a,"status",b)}function r(a){a=void 0===a?1:a;return n[a]&&n[a].status}function t(a,b){b=void 0===b?k:b;x(void 0===a?1:a,b)}function x(a,b){y(a,"opt-out",b)}function v(a,b){b=void 0===b?k:b;w(void 0===a?1:a,b)}
function w(a,b){y(a,"opt-in",b)}function y(a,b,c){"function"===typeof a&&(c=a,a=1);n[a]||(n[a]={clientID:a});z(n[a],""+m.protocol+m.host+m.path+b+"/",c)}function z(a,b,c){function e(d){d=d.target;var h=JSON.parse(d.responseText),u=h.ErrorMessage,A=h.Status;(h=h.Redir)?f(h,e):(a.status=A,a.errorMessage=u,200!==d.status?p.error("Adform Opt-Out: ",u):(a.optIn=g(a.clientID,w),a.optOut=g(a.clientID,x)),c(a))}c=void 0===c?k:c;f(b,e)};})(window);
